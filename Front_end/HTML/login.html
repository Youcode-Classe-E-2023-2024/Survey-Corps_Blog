<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- this is the link to tailwind framework -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- this is the path to the css file -->
  <link rel="stylesheet" href="../style/login.css">

  <script src="https://kit.fontawesome.com/f2976792f3.js" crossorigin="anonymous"></script>
  <title>Avito</title>
</head>

<body>

  <!-- this is the navbar section -->




  <!--the end navbar section -->

  <!-- this is the header section -->


  <header>

  </header>


  <!-- the end of header section -->
  <div class="sider h-screen text-white flex items-center justify-center  relative">

    <!-- navbar  -->
    <div class="h-screen flex flex-wrap w-16 border-2 border-gray-300 left-0 absolute">
      <div class="h-full w-full">
        <div class="w-full flex border-b-2 items-center h-20 p-2">
          <img width="50" height="50" src="https://img.icons8.com/ios-filled/50/4A9DEC/b.png" alt="b" />
        </div>
        
        <div class="w-full flex-col items-center py-8 justify-between flex mb-auto h-3/5 ">
          <a href="home.html">
          <img class="hover:bg-gray-200 hover:cursor-pointer w-full p-3" width="37" height="37" src="https://img.icons8.com/puffy/37/experimental-home-puffy.png" alt="experimental-home-puffy"/>
          </a>
          <a href="blogs.html">
          <img class="hover:bg-gray-200 hover:cursor-pointer w-full p-3" width="37" height="37" src="https://img.icons8.com/ios/37/joomla.png" alt="joomla"/>
          </a> 
          <a href="nouveaute.html">
          <img class="hover:bg-gray-200 hover:cursor-pointer w-full p-3" width="37" height="37" src="https://img.icons8.com/ios/37/news.png" alt="news"/>
         </a>
         <a href="about.html">
          <img class="hover:bg-gray-200 hover:cursor-pointer w-full p-3" width="37" height="37" src="https://img.icons8.com/ios/37/info--v1.png" alt="info--v1"/>
         </a>
         <a href="parameters.html">
          <img class="hover:bg-gray-200 hover:cursor-pointer w-full p-3" width="37" height="37" src="https://img.icons8.com/ios/37/settings--v1.png" alt="settings--v1"/>
     </a>
      </div>


      </div>

    </div>
    <!-- content -->
    <div class="centering flex-1 pl-16 h-screen ">
      <main id="pader">
        <div class="flexer  min-h-[600px] flex justify-between rounded-[60px] absolute  overflow-hidden bg-white  z-2">
          <div class="signin py-[5%] flex flex-col justify-evenly items-center ">
            <h1 class="font-bold text-[40px] pb-7 text-black ">SIGN IN</h1>
            <div class="icons flex w-[60%] justify-evenly">
              <i class="fa-brands fa-square-x-twitter fa-2xl text-black"></i>
              <i class="fa-brands fa-square-facebook fa-2xl text-black"></i>
              <i class="fa-brands fa-linkedin fa-2xl text-black"></i>
              <i class="fa-brands fa-youtube fa-2xl text-black"></i>
            </div>


            <p class="marger font-medium text-black">or use your Email and Password</p>

            <!-- !!!!!!!!!!!!!!!!-->
            <!-- !  Sign in Form-->


            <form class="h-fit flex flex-col justify-center" id="form">
              <input type="text" onkeydown="validation1()" id="email" placeholder="Email"
                class="border-b-2 w-[100%] outline-none text-black" required>
              <span id="text"></span>

              <input type="password" id="password" placeholder="Password"
                class="border-b-2 text-black my-9 w-[100%] outline-none" required>

              <input type="submit" value="Sign-In" onclick="submitForm(event)"
                class="font-bold my-5 mx-auto bg-sky-600 text-white px-16 py-3 rounded-[30px]">
            </form>

            <!-- !!!!!!!!!!!!!!!!-->



          </div>

          <div id="loger" class="loger absolute py-36 h-[600px] w-[70%]  flex justify-evenly    bg-sky-500">

            <div id="cont" class="cont absolute  flex flex-col justify-evenly items-center">
              <h1 class="font-bold mb-5 text-[45px] text-black">welcome, friend !</h1>
              <p class="messageanas text-white mb-5 font-bold text-center text-[20px] w-fit">Register with your personel
                details to <br>
                use all of site features</p>
              <a id="registerButton" href="#"
                class="font-bold bg-sky-600   border-[2px] border-white px-28 py-3 rounded-[30px] ">Sign Up</a>
              <a id="resetButton" href="#"
                class="font-bold  m-2  text-black underline border-white  rounded-[30px] ">Reset
                Password</a>

            </div>

          </div>
          <div class="signin1 py-[5%] flex flex-col justify-evenly items-center ">
            <h1 class="font-bold text-center text-black w-[100%] text-[30px] pb-7">CREATE ACCOUNT</h1>
            <div class="icons flex w-[60%] justify-evenly">
              <i class="fa-brands fa-square-x-twitter text-black fa-2xl"></i>
              <i class="fa-brands fa-square-facebook text-black fa-2xl"></i>
              <i class="fa-brands fa-linkedin text-black fa-2xl"></i>
              <i class="fa-brands fa-youtube text-black fa-2xl"></i>
            </div>
            <!--40-->
            <!-- !!!!!!!!!!!!!!!!-->
            <!-- ! Create Acount Form-->

            <form class="h-fit flex flex-col justify-center" id="registrationForm" onsubmit="submitRegistrationForm(event)">
              <input type="text" id="username" placeholder="User Name" class="border-b-2 text-black my-3 w-full outline-none" required>
              
              <input type="email" id="email1" placeholder="Email" oninput="validation()" class="border-b-2 text-black my-3 w-full outline-none" required>
              <span id="text1"></span>
            
              <input type="password" id="registrationPassword" placeholder="Password" class="border-b-2 text-black my-3 w-full outline-none" required>
            
              <input type="submit" value="Sign-Up" class="font-bold cursor-pointer text-white my-5 mx-auto bg-purple-300 px-16 py-3 rounded-[30px]">
            </form>
            

            <!-- !!!!!!!!!!!!!!!!-->

          </div>
        </div>
      </main>
    </div>
  </div>
  <!-- this is the main section -->

  <!-- <script>
    function submitForm(event) {
      // Get input values
      event.preventDefault();
      var emailsi = document.getElementById('email').value;
      var passwordsi = document.getElementById('password').value;

      // Do something with the values (you can console.log or send to server)
      console.log('Email:', emailsi);
      console.log('Password:', passwordsi);
      var currentDate = new Date();


      var currentTime = currentDate.getTime();
      var xhr = new XMLHttpRequest();
xhr.open("PUT", "http://localhost/Survey-Corps_Blog/Back_end/start/middleware.php/Musers/0", true);
xhr.setRequestHeader("Content-Type", "application/json"); 
xhr.setRequestHeader("token", "code");
xhr.setRequestHeader("userid", "1");

xhr.onreadystatechange = function () {
    if (xhr.readyState == 4) {
        if (xhr.status == 200) {

            var data = JSON.parse(xhr.responseText);
            console.log(data);
            console.log(data[0].id_user)
            localStorage.setItem("userid",data[0].id_user);
            localStorage.setItem("email_loged",emailsi);
            window.location.href = 'http://localhost/Survey-Corps_Blog/Front_end/HTML/blogs.html';
        } else {

            console.log('account not found');
        }
    }
};

var requestData = {
    "Email": emailsi,
    "MotDePasse": passwordsi,
    "last_log":currentTime
};

xhr.send(JSON.stringify(requestData))
      // You can add further logic or send the data to a server using AJAX, fetch, etc.
    }


    function submitRegistrationForm(event) {
      // Prevent the default form submission behavior
      event.preventDefault();

      // Get input values
      var username = document.getElementById('username').value;
      var email = document.getElementById('emailr').value;
      var password = document.getElementById('registrationPassword').value;

      // Do something with the values (you can console.log or send to server)
      console.log('Username:', username);
      console.log('Email:', email);
      console.log('Password:', password);
      var xhr = new XMLHttpRequest();
      xhr.open("POST", "http://localhost/Survey-Corps_Blog/Back_end/start/middleware.php/Pusers", true);
      xhr.setRequestHeader("Content-Type", "application/json");  // Set the Content-Type header for JSON data
      xhr.setRequestHeader("token", "code");
      xhr.setRequestHeader("userid", "1");

      xhr.onreadystatechange = function () {
        if (xhr.readyState == 4) {
          if (xhr.status == 200) {
            // Successful response
            var data = JSON.parse(xhr.responseText);
            console.log(data);
          } else {
            // Error handling
            console.error('XHR error:', xhr.status, xhr.statusText);
          }
        }
      };

      var requestData = {
        "username": username,
        "Email": email,
        "MotDePasse": password,
        "id_role": "2"
      };

      xhr.send(JSON.stringify(requestData));

    }

    function validation() {
      // Add your validation logic here if needed
    }


  </script> -->


  <!-- the end of main section -->

  <!-- this is the footer section -->



  <!-- the end of footer section -->

  <!--! Form script-->
  <!-- <script>
    $(document).ready(function () {
      $("#registrationForm").submit(function (event) {
        event.preventDefault();
        var requestData = {
          "username": $("#username").val(),
          "Email": $("#email").val(),
          "MotDePasse": $("#password").val(),
          "id_role": $("#role").val()
        };

        // Log the requestData object to the console
        console.log("Request Data:", requestData);

        // Your AJAX request code can go here
        $.ajax({
          type: "POST",
          url: "/your-server-endpoint",
          data: requestData,
          success: function (response) {
            console.log("Registration successful: ", response);
            // Handle success response from the server
          },
          error: function (error) {
            console.error("Error during registration: ", error);
            // Handle error response from the server
          }
        });
      });
    });

  </script> -->
  <!--! Form script-->



  <script type="text/javascript">
    function validation1() {
      var form = document.getElementById("form");
      var email = document.getElementById("email").value;
      var text = document.getElementById("text");
      var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

      if (email.match(pattern)) {
        form.classList.add("valid");
        form.classList.remove("invalid");
        text.innerHTML = "Your Email Address is Valid";
        text.style.color = "#00ff00";
        text.style.fontWeight = "700";
      }
      else {
        form.classList.remove("valid");
        form.classList.add("invalid");
        text.innerHTML = "Please enter valid Email Address";
        text.style.color = "#ff0000";
        text.style.fontWeight = "700";
      }
    }
    function validation() {
      var form = document.getElementById("registrationForm");
      var email = document.getElementById("email1").value;
      var text = document.getElementById("text1");
      var pattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;

      if (email.match(pattern)) {
        form.classList.add("valid");
        form.classList.remove("invalid");
        text.innerHTML = "Your Email Address is Valid";
        text.style.color = "#00ce00";
        text.style.fontWeight = "700";
      }
      else {
        form.classList.remove("valid");
        form.classList.add("invalid");
        text.innerHTML = "Please enter valid Email Address";
        text.style.color = "#ff0000";
        text.style.fontWeight = "700";
      }
    }

  </script>
</body>
<script>
  var check = 0;
  var signIn = document.getElementById("registerButton")
  var loger = document.getElementById("loger")
  var logerCont = document.getElementById("cont")
  const messageanas = document.querySelector('.messageanas');
  signIn.addEventListener("click", function () {
    if (!check) {
      loger.style.left = "-15%"
      cont.style.right = "5%"
      signIn.textContent = "Sign in"
      messageanas.textContent = "allready registered? sign-in"
      check = 1;
    } else {
      loger.style.left = "47%"
      cont.style.right = "25%"
      signIn.textContent = "Sign up"
      check = 0;
      messageanas.textContent = "Register with your personel details"
    }
  })
</script>


</html>